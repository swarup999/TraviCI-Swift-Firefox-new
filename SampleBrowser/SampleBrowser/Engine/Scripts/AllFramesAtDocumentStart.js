(()=>{"use strict";var e={919:()=>{webkit.messageHandlers.trackingProtectionStats&&function(){let e=!0;Object.defineProperty(window.__firefox__,"TrackingProtectionStats",{enumerable:!1,configurable:!1,writable:!1,value:{}}),Object.defineProperty(window.__firefox__.TrackingProtectionStats,"setEnabled",{enumerable:!1,configurable:!1,writable:!1,value:function(t,n){n===APP_ID_TOKEN&&t!==e&&(e=t,c(t))}});let t=new Array,n=null;function r(r){if(e){try{if(document.location.host===new URL(r).host)return}catch(e){}r&&t.push(r),n||(n=setTimeout((()=>{n=null,t.length<1||(webkit.messageHandlers.trackingProtectionStats.postMessage({urls:t}),t=new Array)}),200))}}function i(){[].slice.apply(document.scripts).forEach((function(e){r(e.src)})),[].slice.apply(document.images).forEach((function(e){r(e.src)})),[].slice.apply(document.getElementsByTagName("iframe")).forEach((function(e){r(e.src)}))}let o=null,s=null,a=null,l=null,u=null;function c(e){if(!e)return window.removeEventListener("load",i,!1),void(o&&(XMLHttpRequest.prototype.open=o,XMLHttpRequest.prototype.send=s,window.fetch=a,u.disconnect(),o=s=l=u=null));if(!o){window.addEventListener("load",i,!1),o||(o=XMLHttpRequest.prototype.open,s=XMLHttpRequest.prototype.send);var t=new WeakMap;new WeakMap,XMLHttpRequest.prototype.open=function(e,n){return t.set(this,n),o.apply(this,arguments)},XMLHttpRequest.prototype.send=function(e){return r(t.get(this)),s.apply(this,arguments)},a||(a=window.fetch),window.fetch=function(e,t){return"string"==typeof e?r(e):e instanceof Request&&r(e.url),a.apply(window,arguments)},l||(l=Object.getOwnPropertyDescriptor(Image.prototype,"src")),delete Image.prototype.src,Object.defineProperty(Image.prototype,"src",{get:function(){return l.get.call(this)},set:function(e){r(this.src),l.set.call(this,e)}}),u=new MutationObserver((function(e){e.forEach((function(e){e.addedNodes.forEach((function(e){if("SCRIPT"===e.tagName&&e.src)r(e.src);else if("IMG"===e.tagName&&e.src)r(e.src);else if("IFRAME"===e.tagName&&e.src){if("about:blank"===e.src)return;r(e.src)}else"LINK"===e.tagName&&e.href&&r(e.href)}))}))})),u.observe(document.documentElement,{childList:!0,subtree:!0})}}c(!0)}()}},t={};window.__firefox__||Object.defineProperty(window,"__firefox__",{enumerable:!1,configurable:!1,writable:!1,value:{userScripts:{},includeOnce:function(e,t){return!!__firefox__.userScripts[e]||(__firefox__.userScripts[e]=!0,"function"==typeof t&&t(),!1)}}}),void 0===window.__firefox__.download&&Object.defineProperty(window.__firefox__,"download",{enumerable:!1,configurable:!1,writable:!1,value:function(e,t){if(t===APP_ID_TOKEN){if(e.startsWith("blob:")){var n=new XMLHttpRequest;return n.open("GET",e,!0),n.responseType="blob",n.onload=function(){if(200===this.status){var t=this.response;!function(e,t){var n=new FileReader;n.onloadend=function(){t(this.result.split(",")[1])},n.readAsDataURL(e)}(t,(function(n){webkit.messageHandlers.downloadManager.postMessage({url:e,mimeType:t.type,size:t.size,base64String:n})}))}},void n.send()}var r=document.createElement("a");r.href=e,r.dispatchEvent(new MouseEvent("click"))}}}),window.__firefox__.includeOnce("LoginsHelper",(function(){function e(e){}var t={_getRandomId:function(){return Math.round(Math.random()*(Number.MAX_VALUE-Number.MIN_VALUE)+Number.MIN_VALUE).toString()},_messages:["RemoteLogins:loginsFound"],_requests:{},_takeRequest:function(e){var t=e,n=this._requests[t.requestId];return this._requests[t.requestId]=void 0,n},_sendRequest:function(e,t){var n=this._getRandomId();t.requestId=n,webkit.messageHandlers.loginsManagerMessageHandler.postMessage(t);var r=this;return new Promise((function(t,i){e.promise={resolve:t,reject:i},r._requests[n]=e}))},receiveMessage:function(e){var t=this._takeRequest(e);switch(e.name){case"RemoteLogins:loginsFound":t.promise.resolve({form:t.form,loginsFound:e.logins});break;case"RemoteLogins:loginsAutoCompleted":t.promise.resolve(e.logins)}},_asyncFindLogins:function(e,t){var i=this._getFormFields(e,!1);if(!i[0]||!i[1])return Promise.reject("No logins found");i[0].addEventListener("blur",r);var o=n._getPasswordOrigin(e.ownerDocument.documentURI),s=n._getActionOrigin(e);if(null==s)return Promise.reject("Action origin is null");var a={form:e},l={type:"request",formOrigin:o,actionOrigin:s};return this._sendRequest(a,l)},loginsFound:function(e,t){this._fillForm(e,!0,!1,!1,!1,t)},onUsernameInput:function(t){var n=t.target;if(n.ownerDocument instanceof HTMLDocument&&this._isUsernameFieldType(n)){var r=n.form;if(r&&n.value){t.type;var[i,o,s]=this._getFormFields(r,!1);if(i==n&&o){var a=this;this._asyncFindLogins(r,{showMasterPassword:!1}).then((function(e){a._fillForm(e.form,!0,!0,!0,!0,e.loginsFound)})).then(null,e)}}}},_getPasswordFields:function(e,t){for(var n=[],r=0;r<e.elements.length;r++){var i=e.elements[r];i instanceof HTMLInputElement&&"password"==i.type&&(t&&!i.value||(n[n.length]={index:r,element:i}))}return 0==n.length?null:n.length>3?(n.length,null):n},_isUsernameFieldType:function(e){return e instanceof HTMLInputElement&&!!class{static inputTypeIsCompatibleWithUsername(e){const t=e.getAttribute("type")?.toLowerCase()||e.type;return["text","email","url","tel","number","search"].includes(t)||t?.includes("user")}static elementAttrsMatchRegex(e,t){if(t.test(e.id)||t.test(e.name)||t.test(e.className))return!0;const n=e.getAttribute("placeholder");return n&&t.test(n)}static hasLabelMatchingRegex(e,t){return t.test(e.labels?.[0]?.textContent)}}.inputTypeIsCompatibleWithUsername(e)},_getFormFields:function(e,t){var n,r,i=null,o=this._getPasswordFields(e,t);if(!o)return[null,null,null];for(var s=o[0].index-1;s>=0;s--){var a=e.elements[s];if(this._isUsernameFieldType(a)){i=a;break}}if(!t||1==o.length)return[i,o[0].element,null];var l=o[0].element.value,u=o[1].element.value,c=o[2]?o[2].element.value:null;if(3==o.length)if(l==u&&u==c)r=o[0].element,n=null;else if(l==u)r=o[0].element,n=o[2].element;else if(u==c)n=o[0].element,r=o[2].element;else{if(l!=c)return[null,null,null];r=o[0].element,n=o[1].element}else l==u?(r=o[0].element,n=null):(n=o[0].element,r=o[1].element);return[i,r,n]},_isAutocompleteDisabled:function(e){return!(!e||!e.hasAttribute("autocomplete")||"off"!=e.getAttribute("autocomplete").toLowerCase())},_onFormSubmit:function(e){var t=e.ownerDocument,r=t.defaultView,i=n._getPasswordOrigin(t.documentURI);if(i){var o=n._getActionOrigin(e),s=this._getFormFields(e,!0),a=s[0],l=s[1],u=s[2];if(null!=l){this._isAutocompleteDisabled(e)||this._isAutocompleteDisabled(a)||this._isAutocompleteDisabled(l)||this._isAutocompleteDisabled(u);var c=a?{name:a.name,value:a.value}:null,d={name:l.name,value:l.value};u&&(u.name,u.value),r.opener&&r.opener.top,webkit.messageHandlers.loginsManagerMessageHandler.postMessage({type:"submit",hostname:i,username:c.value,usernameField:c.name,password:d.value,passwordField:d.name,formSubmitUrl:o})}}},_fillForm:function(e,t,n,r,i,o){var s=this._getFormFields(e,!1),l=s[0],u=s[1];if(null==u)return[!1,o];if(u.disabled||u.readOnly)return[!1,o];var c=Number.MAX_VALUE,d=Number.MAX_VALUE;l&&l.maxLength>=0&&(c=l.maxLength),u.maxLength>=0&&(d=u.maxLength),o=function(e,t){var n,r,i;if(null==e)throw new TypeError("Array is null or not defined");var o=Object(e),s=o.length>>>0;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(arguments.length>1&&(n=e),r=new Array(s),i=0;i<s;){var a,l;i in o&&(a=o[i],l=t.call(n,a,i,o),r[i]=l),i++}return r}(o,(function(e){return{hostname:e.hostname,formSubmitUrl:e.formSubmitUrl,httpRealm:e.httpRealm,username:e.username,password:e.password,usernameField:e.usernameField,passwordField:e.passwordField}}));var f=o.filter((function(e){var t=e.username.length<=c&&e.password.length<=d;return t||e.username,t}),this);if(0==f.length)return[!1,o];if(u.value&&!r)return[!1,o];var m=!1;!n&&(this._isAutocompleteDisabled(e)||this._isAutocompleteDisabled(l)||this._isAutocompleteDisabled(u))&&(m=!0);var p=null;if(l&&(l.value||l.disabled||l.readOnly)){var g=l.value.toLowerCase(),h=f.filter((function(e){return e.username.toLowerCase()==g}));if(h.length){for(var v=0;v<h.length;v++){var w=h[v];w.username==l.value&&(p=w)}p||(p=h[0])}}else 1==f.length?p=f[0]:(h=l?f.filter((function(e){return e.username})):f.filter((function(e){return!e.username})),p=h[0]);var _=!1;if(p&&t&&!m){if(l){var b=l.disabled||l.readOnly,y=p.username!=l.value,L=i&&y&&l.value.toLowerCase()==p.username.toLowerCase();b||L||!y||(l.value=p.username,a(l,"keydown",40),a(l,"keyup",40),document.activeElement!==l&&l.dispatchEvent(new Event("change")))}u.value!=p.password&&(u.value=p.password,a(u,"keydown",40),a(u,"keyup",40),document.activeElement!==u&&u.dispatchEvent(new Event("change"))),_=!0}return[_,o]}},n={_getPasswordOrigin:function(e,t){return e},_getActionOrigin:function(e){var t=e.action;return""==t&&(t=e.baseURI),this._getPasswordOrigin(t,!0)}};function r(e){t.onUsernameInput(e)}var i=new MutationObserver((function(e){for(var t=0;t<e.length;++t)o(e[t].addedNodes)}));function o(e){for(var t=0;t<e.length;t++){var n=e[t];"FORM"===n.nodeName?s(n):n.hasChildNodes()&&o(n.childNodes)}return!1}function s(n){try{t._asyncFindLogins(n,{}).then((function(e){t.loginsFound(e.form,e.loginsFound)})).then(null,e)}catch(e){}}function a(e,t,n){var r=document.createEvent("KeyboardEvent");r.initKeyboardEvent(t,!0,!0,window,0,0,0,0,0,n),e.dispatchEvent(r)}window.addEventListener("load",(function(e){i.observe(document.body,{attributes:!1,childList:!0,characterData:!1,subtree:!0});for(var t=0;t<document.forms.length;t++)s(document.forms[t])})),window.addEventListener("submit",(function(e){try{t._onFormSubmit(e.target)}catch(e){}})),Object.defineProperty(window.__firefox__,"logins",{enumerable:!1,configurable:!1,writable:!1,value:Object.freeze(new function(){this.inject=function(e){try{t.receiveMessage(e)}catch(e){}}})})})),function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={exports:{}};return e[r](o,o.exports,n),o.exports}(919)})();